{"ast":null,"code":"import axios from \"axios\";\nimport { basketUrl, checkoutUrl } from \"./apiConstants\";\nimport { goToProductsPage } from \"../functions/navigation\";\nexport function fetchBasket(setCurrentBasket) {\n  axios(basketUrl).then(response => {\n    setCurrentBasket(response.data);\n  }).catch(error => {\n    console.error(error.response.data.message);\n  });\n}\nexport function addProductToBasket(productId, setCurrentBasket) {\n  axios.post(basketUrl, null, {\n    params: {\n      productId: productId\n    }\n  }).then(response => {\n    fetchBasket(setCurrentBasket);\n  }).catch(error => {\n    console.log(\"Error fetching data: \" + error);\n  });\n}\nexport function removeProductFromBasket(id, setCurrentBasket) {\n  axios.delete(basketUrl, {\n    params: {\n      productId: id\n    }\n  }).then(response => {\n    fetchBasket(setCurrentBasket);\n  }).catch(error => {\n    console.log(\"Error fetching data: \" + error);\n  });\n}\nexport function checkout(setCurrentBasket, navigate) {\n  axios.post(checkoutUrl, null, {}).then(response => {\n    fetchBasket(setCurrentBasket);\n  }).catch(error => {\n    console.log(\"Error fetching data: \" + error);\n  });\n  goToProductsPage(navigate);\n}","map":{"version":3,"names":["axios","basketUrl","checkoutUrl","goToProductsPage","fetchBasket","setCurrentBasket","then","response","data","catch","error","console","message","addProductToBasket","productId","post","params","log","removeProductFromBasket","id","delete","checkout","navigate"],"sources":["/Users/Jyothyraj.Sobhana/ecp_hackathon/e-commerce-app-team-6/frontend/src/api/fetchBasket.ts"],"sourcesContent":["import React from \"react\";\nimport {basket} from \"../model/basketType\";\nimport {NavigateFunction} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {basketUrl, checkoutUrl} from \"./apiConstants\";\nimport {goToProductsPage} from \"../functions/navigation\";\n\nexport function fetchBasket(setCurrentBasket: React.Dispatch<React.SetStateAction<basket | null>>) {\n\n    axios(basketUrl).then(response => {\n        setCurrentBasket(response.data)\n    }).catch(error => {\n        console.error(error.response.data.message)\n    })\n}\n\nexport function addProductToBasket(productId: any,\n                                   setCurrentBasket: React.Dispatch<React.SetStateAction<basket | null>>) {\n\n    axios.post(basketUrl, null, {\n        params: {\n            productId: productId\n        }\n    }).then(response => {\n        fetchBasket(setCurrentBasket);\n    }).catch(error => {\n        console.log(\"Error fetching data: \" + error)\n    })\n\n}\n\nexport function removeProductFromBasket(id: number,\n                                        setCurrentBasket: React.Dispatch<React.SetStateAction<basket | null>>) {\n\n    axios.delete(basketUrl, {\n        params: {\n            productId: id\n        }\n    }).then(response => {\n        fetchBasket(setCurrentBasket);\n    }).catch(error => {\n        console.log(\"Error fetching data: \" + error)\n    })\n}\n\nexport function checkout(setCurrentBasket: React.Dispatch<React.SetStateAction<basket | null>>,\n                         navigate: NavigateFunction) {\n    axios.post(checkoutUrl, null, {}).then(response => {\n        fetchBasket(setCurrentBasket);\n    }).catch(error => {\n        console.log(\"Error fetching data: \" + error)\n    })\n    goToProductsPage(navigate);\n}"],"mappings":"AAGA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,SAAS,EAAEC,WAAW,QAAO,gBAAgB;AACrD,SAAQC,gBAAgB,QAAO,yBAAyB;AAExD,OAAO,SAASC,WAAW,CAACC,gBAAqE,EAAE;EAE/FL,KAAK,CAACC,SAAS,CAAC,CAACK,IAAI,CAACC,QAAQ,IAAI;IAC9BF,gBAAgB,CAACE,QAAQ,CAACC,IAAI,CAAC;EACnC,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACI,OAAO,CAAC;EAC9C,CAAC,CAAC;AACN;AAEA,OAAO,SAASC,kBAAkB,CAACC,SAAc,EACdT,gBAAqE,EAAE;EAEtGL,KAAK,CAACe,IAAI,CAACd,SAAS,EAAE,IAAI,EAAE;IACxBe,MAAM,EAAE;MACJF,SAAS,EAAEA;IACf;EACJ,CAAC,CAAC,CAACR,IAAI,CAACC,QAAQ,IAAI;IAChBH,WAAW,CAACC,gBAAgB,CAAC;EACjC,CAAC,CAAC,CAACI,KAAK,CAACC,KAAK,IAAI;IACdC,OAAO,CAACM,GAAG,CAAC,uBAAuB,GAAGP,KAAK,CAAC;EAChD,CAAC,CAAC;AAEN;AAEA,OAAO,SAASQ,uBAAuB,CAACC,EAAU,EACVd,gBAAqE,EAAE;EAE3GL,KAAK,CAACoB,MAAM,CAACnB,SAAS,EAAE;IACpBe,MAAM,EAAE;MACJF,SAAS,EAAEK;IACf;EACJ,CAAC,CAAC,CAACb,IAAI,CAACC,QAAQ,IAAI;IAChBH,WAAW,CAACC,gBAAgB,CAAC;EACjC,CAAC,CAAC,CAACI,KAAK,CAACC,KAAK,IAAI;IACdC,OAAO,CAACM,GAAG,CAAC,uBAAuB,GAAGP,KAAK,CAAC;EAChD,CAAC,CAAC;AACN;AAEA,OAAO,SAASW,QAAQ,CAAChB,gBAAqE,EACrEiB,QAA0B,EAAE;EACjDtB,KAAK,CAACe,IAAI,CAACb,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAACI,IAAI,CAACC,QAAQ,IAAI;IAC/CH,WAAW,CAACC,gBAAgB,CAAC;EACjC,CAAC,CAAC,CAACI,KAAK,CAACC,KAAK,IAAI;IACdC,OAAO,CAACM,GAAG,CAAC,uBAAuB,GAAGP,KAAK,CAAC;EAChD,CAAC,CAAC;EACFP,gBAAgB,CAACmB,QAAQ,CAAC;AAC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}